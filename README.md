# test_s

# Переводчик с озвучиванием

Интерактивное приложение для перевода текста с русского на английский и последующего озвучивания с помощью ElevenLabs API.

## Возможности

- **Перевод текста** с русского на английский с использованием модели Helsinki-NLP
- **Озвучивание текста** через ElevenLabs API
- **Интерактивный режим** с командами управления
- **Оптимизация для Mac** с поддержкой MPS (Apple Silicon)
- **Гибкие настройки** - возможность включать/отключать перевод

## Требования

- Python 3.11+
- macOS (для воспроизведения аудио через `afplay`)
- API-ключ ElevenLabs

## Установка

1. **Клонируйте репозиторий:**
```bash
git clone <repository-url>
cd translator-audio-project
```

2. **Создайте виртуальное окружение:**
```bash
python -m venv venv
source venv/bin/activate  # для macOS/Linux
```

3. **Установите зависимости:**
```bash
pip install -r requirements.txt
```

4. **Настройте API-ключ:**
   - Откройте файл `config.py`
   - Замените `" "` на ваш API-ключ ElevenLabs:
   ```python
   ELEVEN_LABS_API_KEY = "your_api_key_here"
   ```

## Конфигурация

В файле `config.py` можно настроить:

- **Модель перевода**: `MODEL_NAME` (по умолчанию русский → английский)
- **Голос**: `VOICE_NAME` (по умолчанию "Rachel")
- **Устройство**: автоматически выбирается MPS или CPU

## Использование

Запустите программу:
```bash
python main.py
```

### Команды:

- **Ввод текста** - введите текст для перевода и озвучивания
- `перевод вкл` - включить перевод
- `перевод выкл` - отключить перевод (только озвучивание)
- `статус` - показать текущие настройки
- `выход` - завершить программу

### Пример использования:
```
Ввод: Привет, как дела?
Перевод: Hello, how are you?
Аудио временно сохранено как /tmp/tmpXXXXXX.mp3
Воспроизведение завершено.
```

## Структура проекта

```
├── main.py              # Основной файл программы
├── translator.py        # Класс для перевода текста
├── audio_generator.py   # Класс для генерации аудио
├── config.py           # Конфигурационные настройки
├── requirements.txt    # Зависимости проекта
├── pyvenv.cfg         # Настройки виртуального окружения
├── lib/               # Библиотеки (не включены в репозиторий)
```

## Зависимости

- `torch` - PyTorch для работы с нейросетями
- `transformers` - Hugging Face Transformers для модели перевода
- `elevenlabs` - API клиент для генерации речи

## Технические детали

- **Модель перевода**: Helsinki-NLP/opus-mt-ru-en
- **Устройство**: MPS (Apple Silicon) или CPU
- **Аудиоформат**: MP3
- **Временные файлы**: автоматически удаляются после воспроизведения

## ⚠Ограничения

- Работает только на macOS (использует `afplay`)
- Требует активного интернет-соединения для ElevenLabs API
- Поддерживает только перевод с русского на английский



